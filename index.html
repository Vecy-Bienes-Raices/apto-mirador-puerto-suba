<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Apartamento en Mirador del Puerto BogotÃ¡</title>

    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23D4AF37' d='M10 20v-6h4v6h5v-8h3L12 3L2 12h3v8h5z'/%3E%3C/svg%3E"
    />
    <link rel="preload" as="image" href="assets/0.0.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <meta
      name="description"
      content="Descubre este amplio apartamento de 120 mÂ² en Mirador del Puerto, Suba. 3 habitaciones, 2 parqueaderos, vista al Club Los Lagartos y excelentes amenidades. Â¡Una vida rodeada de verde te espera!"
    />
    <meta
      property="og:title"
      content="Apartamento en Mirador del Puerto BogotÃ¡"
    />
    <meta
      property="og:description"
      content="Descubre este amplio apartamento de 120 mÂ² en Mirador del Puerto, Suba. 3 habitaciones, 2 parqueaderos, vista al Club Los Lagartos y excelentes amenidades. Â¡Una vida rodeada de verde te espera!"
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://apto-mirador-puerto-suba.netlify.app/"
    />
    <meta
      property="og:image"
      content="https://apto-mirador-puerto-suba.netlify.app/assets/0.0.png"
    />
    <meta property="og:site_name" content="Ficha TÃ©cnica de Inmueble" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Apartamento en Mirador del Puerto BogotÃ¡"
    />
    <meta
      name="twitter:description"
      content="Descubre este amplio apartamento de 120 mÂ² en Mirador del Puerto, Suba. 3 habitaciones, 2 parqueaderos, vista al Club Los Lagartos y excelentes amenidades. Â¡Una vida rodeada de verde te espera!"
    />
    <meta
      name="twitter:image"
      content="https://apto-mirador-puerto-suba.netlify.app/assets/0.0.png"
    />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      @page {
        size: A4;
        margin: 0;
      }
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: radial-gradient(
          ellipse at center,
          #c19a6b 0%,
          #a0826d 25%,
          #8b7355 40%,
          #6b5744 60%,
          #5c4033 75%,
          #4a332a 85%,
          #3e2723 100%
        );
        background-attachment: fixed;
        max-width: 210mm;
        width: 100%;
        min-height: 100vh;
        padding: 20px;
        margin: 0 auto;
        position: relative;
        z-index: 1;
      }
      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          ellipse at center,
          #c19a6b 0%,
          #a0826d 25%,
          #8b7355 40%,
          #6b5744 60%,
          #5c4033 75%,
          #4a332a 85%,
          #3e2723 100%
        );
        z-index: -1;
        will-change: transform;
      }
      .glass-card {
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(25px) saturate(180%);
        -webkit-backdrop-filter: blur(25px) saturate(180%);
        border-radius: 20px;
        border: 1.5px solid rgba(255, 255, 255, 0.4);
        padding: 20px;
        margin-bottom: 15px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25),
          inset 0 1px 1px rgba(255, 255, 255, 0.5);
        position: relative;
        transform: translateZ(0);
        backface-visibility: hidden;
        will-change: transform;
      }
      .glass-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 50%;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.3) 0%,
          transparent 100%
        );
        border-radius: 20px 20px 0 0;
        pointer-events: none;
      }
      .header {
        text-align: center;
        margin-bottom: 20px;
        position: relative;
      }
      .header h1 {
        color: #1a1a1a;
        font-size: 32px;
        font-weight: 700;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        margin-bottom: 5px;
        letter-spacing: -0.5px;
      }
      .header .match {
        font-size: 24px;
        color: #d4af37;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        font-weight: 600;
        margin-bottom: 10px;
      }
      .precio-section {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        padding: 15px 25px;
        border-radius: 15px;
        margin-bottom: 15px;
        box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .precio-section div {
        flex: 1;
      }
      .gallery-section {
        margin-bottom: 15px;
      }
      .specs-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        margin-top: 15px;
      }
      .spec-item {
        background: rgba(255, 255, 255, 0.12);
        backdrop-filter: blur(10px);
        padding: 12px;
        border-radius: 12px;
        text-align: center;
        border: 1px solid rgba(255, 255, 255, 0.25);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
      .spec-item .icon {
        font-size: 20px;
        margin-bottom: 5px;
      }
      .section-title {
        background: linear-gradient(135deg, #ff8c42 0%, #ff6b35 100%);
        color: white;
        padding: 10px 20px;
        border-radius: 12px;
        font-size: 16px;
        font-weight: 700;
        margin-bottom: 12px;
        box-shadow: 0 6px 15px rgba(255, 107, 53, 0.3);
        letter-spacing: 0.5px;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
      }
      .amenities-list {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
      }
      .highlight-box {
        background: rgba(212, 175, 55, 0.2);
        backdrop-filter: blur(10px);
        padding: 15px;
        border-radius: 12px;
        margin-top: 15px;
        border: 1px solid rgba(212, 175, 55, 0.4);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
      .footer {
        text-align: center;
        margin-top: 15px;
        padding: 12px;
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .precio-section h2 {
        font-size: 15px;
        margin-bottom: 5px;
        font-weight: 500;
        opacity: 0.95;
      }
      .precio-section .amount {
        font-size: 20px;
        font-weight: 700;
        letter-spacing: -0.5px;
      }
      .spec-item .label {
        font-size: 14px;
        color: #f5f5dc;
        margin-bottom: 4px;
        font-weight: 600;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
      }
      .spec-item .value {
        font-size: 15px;
        font-weight: 700;
        color: #1a1a1a;
      }
      .amenity-item {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(8px);
        padding: 10px 12px;
        border-radius: 10px;
        font-size: 15px;
        color: #1a1a1a;
        font-weight: 600;
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .amenity-item .emoji {
        font-size: 16px;
      }
      .highlight-box h3,
      .glass-card > h3 {
        color: #1a1a1a;
        font-size: 15px;
        margin-bottom: 10px;
        font-weight: 700;
      }
      .description {
        font-size: 15px;
        line-height: 1.7;
        color: #1a1a1a;
        font-weight: 500;
        text-align: justify;
      }
      .footer p {
        color: #f5f5dc;
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 8px;
      }
      .footer .cta {
        color: #d4af37;
        font-size: 15px;
        font-weight: 700;
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
      }

      .video-wrapper video {
        width: 100%;
        border-radius: 15px;
        display: block;
      }
      .slider-container {
        position: relative;
        width: 100%;
        aspect-ratio: 1 / 1;
        border-radius: 15px;
        margin-bottom: 10px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }
      .slider-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: none;
        animation: fadeIn 0.5s;
      }
      .slider-image.active {
        display: block;
        cursor: pointer;
      }
      @keyframes fadeIn {
        from {
          opacity: 0.5;
        }
        to {
          opacity: 1;
        }
      }
      .slider-arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(0, 0, 0, 0.4);
        color: white;
        border: none;
        padding: 8px 12px;
        font-size: 20px;
        font-weight: bold;
        border-radius: 50%;
        cursor: pointer;
        transition: background-color 0.3s;
        z-index: 10;
      }
      .slider-arrow:hover {
        background-color: rgba(0, 0, 0, 0.7);
      }
      .prev-arrow {
        left: 15px;
      }
      .next-arrow {
        right: 15px;
      }
      .thumbnail-container {
        overflow: hidden;
        cursor: grab;
        user-select: none;
      }
      .thumbnail-container.grabbing {
        cursor: grabbing;
      }
      .thumbnail-strip {
        display: flex;
        gap: 10px;
        position: relative;
        will-change: transform;
      }
      .thumbnail {
        flex-shrink: 0;
        width: calc(20% - 8px);
        aspect-ratio: 1 / 1;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        border: 2px solid transparent;
        cursor: pointer;
        transition: transform 0.2s, border-color 0.2s;
      }
      .thumbnail:hover {
        transform: scale(1.05);
      }
      .thumbnail.active {
        border-color: #d4af37;
      }
      .thumbnail img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        pointer-events: none;
      }

      /* Estilos del botÃ³n de compartir */
      /* Estilos del botÃ³n de compartir - 3D Redesign */
      /* Estilos del botÃ³n de compartir - Golden 3D Premium */
      #shareBtn {
        /* Base Gold Gradient */
        background: linear-gradient(180deg, #FFD700 0%, #FDB931 50%, #DAA520 100%);
        color: #3E2723; /* Dark brown text */
        border: none;
        padding: 18px 50px;
        font-size: 18px;
        font-weight: 900;
        display: inline-flex;
        align-items: center;
        gap: 12px;
        border-radius: 50px;
        cursor: pointer;
        /* 3D Block Shadow + Drop Shadow */
        box-shadow: 
          0 6px 0 #B8860B, 
          0 12px 20px rgba(0, 0, 0, 0.3),
          inset 0 2px 0 rgba(255, 255, 255, 0.5);
        transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        text-transform: uppercase;
        letter-spacing: 1px;
        text-shadow: 0 1px 0 rgba(255, 255, 255, 0.4);
        position: relative;
        overflow: hidden;
      }

      /* Shine effect overlay */
      #shareBtn::after {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          to right,
          rgba(255, 255, 255, 0) 0%,
          rgba(255, 255, 255, 0.3) 50%,
          rgba(255, 255, 255, 0) 100%
        );
        transform: rotate(45deg) translate(-100%, -100%);
        transition: transform 0.6s;
      }

      #shareBtn:hover {
        /* Super Bright Gold on Hover */
        background: linear-gradient(180deg, #FFF8DC 0%, #FFD700 50%, #FFC107 100%);
        transform: translateY(-4px) scale(1.02);
        box-shadow: 
          0 10px 0 #B8860B, 
          0 20px 40px rgba(255, 215, 0, 0.4), /* Golden Glow */
          inset 0 2px 0 rgba(255, 255, 255, 0.8);
        color: #251605;
      }

      #shareBtn:hover::after {
        transform: rotate(45deg) translate(100%, 100%);
      }

      #shareBtn:active {
        transform: translateY(4px);
        box-shadow: 
          0 2px 0 #B8860B, 
          0 4px 10px rgba(0, 0, 0, 0.2);
      }
      #copyMessage {
        color: #d4af37;
        font-weight: 600;
        margin-top: 10px;
        font-size: 14px;
        opacity: 0;
        transition: opacity 0.3s;
      }

      @media (max-width: 600px) {
        body {
          padding: 10px;
        }
        .header h1 {
          font-size: 26px;
        }
        .specs-grid {
          grid-template-columns: repeat(2, 1fr);
        }
        .amenities-list {
          grid-template-columns: 1fr;
        }
        .thumbnail {
          width: calc(33.33% - 7px);
        }
        #shareBtn {
          padding: 12px 20px;
        }
      }

      /* Lightbox (pantalla completa) Styles */
      .lightbox-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        display: none; /* Oculto por defecto */
        justify-content: center;
        align-items: center;
        z-index: 1000;
      }
      .lightbox-overlay.visible {
        display: flex;
      }
      .lightbox-content {
        max-width: 90%;
        max-height: 90%;
        object-fit: contain;
        animation: fadeIn 0.3s;
      }
      .lightbox-close {
        position: absolute;
        top: 20px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        cursor: pointer;
        transition: color 0.3s;
      }
      .lightbox-close:hover {
        color: #bbb;
      }
      .lightbox-arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(0, 0, 0, 0.4);
        color: white;
        border: none;
        padding: 10px 15px;
        font-size: 30px;
        font-weight: bold;
        border-radius: 50%;
        cursor: pointer;
        transition: background-color 0.3s;
        z-index: 1001;
      }
      .lightbox-arrow:hover {
        background-color: rgba(0, 0, 0, 0.7);
      }
      .lightbox-prev {
        left: 20px;
      }
      .lightbox-next {
        right: 20px;
      }
      .lightbox-download {
        position: absolute;
        top: 20px;
        right: 60px; /* Left of the close button */
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: white;
        padding: 10px 20px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
        z-index: 1002;
      }
      .lightbox-download:hover {
        background: rgba(255, 255, 255, 0.4);
        transform: translateY(-2px);
      }

      /* Map Styles */
      .map-container {
        padding: 10px; /* Menor padding para dar mÃ¡s espacio al mapa */
      }
      .map-container iframe {
        width: 100%;
        height: 350px;
        border: 0;
        border-radius: 15px;
      }
    </style>
  </head>
  <body>
    <div class="glass-card header">
      <div class="match">â¤ï¸ Â¡Vive rodeado de verde! ğŸŒ³</div>
      <h1>Apartamento en Mirador del Puerto - BogotÃ¡</h1>
    </div>

    <div class="precio-section">
      <div>
        <h2>ğŸ’° Precio de Venta</h2>
        <div class="amount">$680.000.000</div>
      </div>
      <div style="text-align: right">
        <h2>ğŸ’µ AdministraciÃ³n</h2>
        <div class="amount">$565.000</div>
      </div>
    </div>

    <div class="section-title">ğŸ¥ Recorrido Virtual</div>
    <div class="glass-card video-wrapper">
      <video src="assets/recorrido.mp4" controls playsinline preload="metadata">
        Tu navegador no soporta el tag de video.
      </video>
    </div>

    <div class="section-title">ğŸ“¸ GalerÃ­a de Fotos</div>
    <div class="glass-card gallery-section">
      <div class="slider-container">
        <button class="slider-arrow prev-arrow">â®</button>
        <button class="slider-arrow next-arrow">â¯</button>
      </div>
      <div class="thumbnail-container">
        <div class="thumbnail-strip"></div>
      </div>
    </div>

    <div class="section-title">ğŸ” Detalles del Apartamento</div>
    <div class="glass-card">
      <div class="specs-grid">
        <div class="spec-item">
          <div class="icon">ğŸ“</div>
          <div class="label">Ãrea Const.</div>
          <div class="value">120 mÂ²</div>
        </div>
        <div class="spec-item">
          <div class="icon">ğŸ“</div>
          <div class="label">Ãrea Priv.</div>
          <div class="value">111 mÂ²</div>
        </div>
        <div class="spec-item">
          <div class="icon">ğŸ—ï¸</div>
          <div class="label">AÃ±o</div>
          <div class="value">1990</div>
        </div>
        <div class="spec-item">
          <div class="icon">âœ¨</div>
          <div class="label">Estrato</div>
          <div class="value">6</div>
        </div>
        <div class="spec-item">
          <div class="icon">ğŸ›Œ</div>
          <div class="label">Alcobas</div>
          <div class="value">3</div>
        </div>
        <div class="spec-item">
          <div class="icon">ğŸ›€</div>
          <div class="label">BaÃ±os</div>
          <div class="value">2</div>
        </div>
        <div class="spec-item">
          <div class="icon">ğŸš—</div>
          <div class="label">Garajes</div>
          <div class="value">2</div>
        </div>
        <div class="spec-item">
          <div class="icon">ğŸ¢</div>
          <div class="label">Piso</div>
          <div class="value">3</div>
        </div>
        <div class="spec-item">
          <div class="icon">ğŸ“</div>
          <div class="label">Barrio</div>
          <div class="value">Parque Lagartos</div>
        </div>
      </div>
    </div>

    <div class="section-title">ğŸ¡ CaracterÃ­sticas Internas</div>
    <div class="glass-card">
      <div class="amenities-list">
        <div class="amenity-item"><span class="emoji">ğŸ”¥</span> Chimenea</div>
        <div class="amenity-item">
          <span class="emoji">ğŸ³</span> Cocina integral
        </div>
        <div class="amenity-item"><span class="emoji">ğŸ“¦</span> DepÃ³sito</div>
        <div class="amenity-item"><span class="emoji">ğŸ“š</span> Estudio</div>
        <div class="amenity-item">
          <span class="emoji">ğŸ§º</span> Zona de lavanderÃ­a
        </div>
        <div class="amenity-item">
          <span class="emoji">ğŸš½</span> BaÃ±o auxiliar
        </div>
        <div class="amenity-item">
          <span class="emoji">ğŸš¿</span> BaÃ±o principal
        </div>
        <div class="amenity-item"><span class="emoji">ğŸ</span> Despensa</div>
      </div>
      <div class="highlight-box">
        <h3>ğŸŒŸ Alcoba Principal</h3>
        <p class="description">
          Alcoba principal con <strong>Vestier y baÃ±o privado</strong>.
          Adicionalmente cuenta con <strong>Hall de alcobas</strong> para mayor
          privacidad.
        </p>
      </div>
    </div>

    <div class="section-title">ğŸŒŸ Amenidades del Conjunto</div>
    <div class="glass-card">
      <div class="amenities-list">
        <div class="amenity-item"><span class="emoji">ğŸ¢</span> Ascensor</div>
        <div class="amenity-item">
          <span class="emoji">ğŸ‘®â€â™‚ï¸</span> PorterÃ­a - RecepciÃ³n
        </div>
        <div class="amenity-item"><span class="emoji">ğŸ’ª</span> Gimnasio</div>
        <div class="amenity-item">
          <span class="emoji">ğŸ¾</span> Cancha de squash y Muro de tenis
        </div>
        <div class="amenity-item">
          <span class="emoji">ğŸš—</span> Parqueadero visitantes
        </div>
        <div class="amenity-item">
          <span class="emoji">ğŸ‰</span> SalÃ³n Comunal
        </div>
        <div class="amenity-item">
          <span class="emoji">ğŸ–</span> Zona BBQ / Parrilla
        </div>
        <div class="amenity-item">
          <span class="emoji">ğŸŒ³</span> Zonas verdes / Bosque
        </div>
        <div class="amenity-item">
          <span class="emoji">ğŸ“·</span> Circuito cerrado de TV
        </div>
        <div class="amenity-item">
          <span class="emoji">ğŸ”Œ</span> Planta elÃ©ctrica
        </div>
      </div>
      <div class="highlight-box">
        <h3>ğŸ“ UbicaciÃ³n y Entorno</h3>
        <p class="description">
          Ubicado sobre la <strong>Avenida BoyacÃ¡</strong>, cerca al
          <strong>Club Los Lagartos</strong>, con
          <strong>vista exterior panorÃ¡mica</strong> a zonas verdes y centros
          comerciales cercanos como Bulevar Niza y TitÃ¡n Plaza. Â¡Excelente
          conectividad!.
        </p>
      </div>
    </div>

    <div class="section-title">ğŸ—ºï¸ UbicaciÃ³n en el Mapa</div>
    <div class="glass-card map-container">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3976.452945281781!2d-74.0991448857341!3d4.69138899660233!1m2!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zQ3JhLiA3MiBjb24gQ2wuIDEyMSwgQm9nb3TDoQ!5e0!3m2!1ses-419!2sco!4v1678886400000!5m2!1ses-419!2sco"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
        title="Mapa de ubicaciÃ³n del inmueble"
      ></iframe>
    </div>

    <div class="glass-card">
      <h3>ğŸ’– Tu Nuevo Hogar Rodeado de Naturaleza</h3>
      <p class="description">
        ğŸŒ³ğŸŒ Â¡Despierta con la frescura del verde todas las maÃ±anas! Este
        magnÃ­fico apartamento en VENTA te espera sobre la avenida BoyacÃ¡, con
        <strong>vista al Club Los Lagartos</strong> en Mirador del Puerto, Suba,
        BogotÃ¡. Amplio, con <strong>chimenea</strong>, cocina integral, alcoba
        principal con Vestier y baÃ±o privado,
        <strong
          >dos alcobas mÃ¡s, dos parqueaderos, bicicletero y depÃ³sito.</strong
        >
        Disfruta de <strong>cancha de squash, gimnasio, salÃ³n comunal</strong>,
        Ã¡rea verde para barbecue y <strong>juegos para niÃ±os</strong>. Â¡Precio
        negociable! ğŸ¤ğŸ’°
      </p>
    </div>

    <div class="glass-card" style="text-align: center">
      <h3 style="margin-bottom: 15px">ğŸ“¤ Compartir Ficha TÃ©cnica</h3>
      <button id="shareBtn">ğŸ“¤ Compartir</button>
      <p id="copyMessage">âœ… Â¡Copiado al portapapeles!</p>
    </div>
    <div class="footer">
      <p>Â¿Buscas conexiÃ³n con la naturaleza y excelentes amenidades?</p>
      <p class="cta">ğŸ“ Agenda tu cita y prepÃ¡rate para enamorarte</p>
    </div>

    <!-- Contenedor del Lightbox (Pantalla Completa) -->
    <div id="lightbox" class="lightbox-overlay">
      <span class="lightbox-close">&times;</span>
      <button class="lightbox-arrow lightbox-prev">â®</button>
      <img class="lightbox-content" id="lightbox-img" />
      <button class="lightbox-arrow lightbox-next">â¯</button>
      <a id="lightbox-download" class="lightbox-download" download>
        â¬‡ï¸ Descargar
      </a>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // IMÃGENES ACTUALIZADAS
        // AsegÃºrate de que los nombres de archivo coincidan con los de tu carpeta `assets`
        // y que tengas 51 imÃ¡genes en total.
        const images = [
          "assets/0.0.png",
          "assets/0.png",
          "assets/1.png",
          "assets/2.png",
          "assets/3.png",
          "assets/4.png",
          "assets/5.jpg",
          "assets/6.jpg",
          "assets/7.jpg",
          "assets/8.jpg",
          "assets/9.0.jpg",
          "assets/9.1.jpg",
          "assets/9.2.jpg",
          "assets/9.3.jpg",
          "assets/9.4.jpg",
          "assets/10.jpg",
          "assets/11.jpg",
          "assets/12.jpg",
          "assets/13.jpg",
          "assets/14.jpg",
          "assets/15.jpg",
          "assets/16.png",
          "assets/17.png",
          "assets/18.jpg",
          "assets/19.jpg",
          "assets/20.jpg",
          "assets/21.jpg",
          "assets/22.jpg",
          "assets/23.jpg",
          "assets/24.jpg",
          "assets/25.jpg",
          "assets/26.jpg",
          "assets/27.jpg",
          "assets/28.jpg",
          "assets/29.jpg",
          "assets/30.jpg",
          "assets/32.jpg",
          "assets/33.jpg",
          "assets/34.jpg",
          "assets/35.jpg",
          "assets/36.jpg",
          "assets/37.jpg",
          "assets/38.jpg",
          "assets/39.jpg",
          "assets/40.jpg",
          "assets/41.jpg",
          "assets/42.jpg",
          "assets/43.jpg",
          "assets/44.png",
        ];

        const sliderContainer = document.querySelector(".slider-container");
        const thumbnailContainer = document.querySelector(
          ".thumbnail-container"
        );
        const thumbnailStrip = document.querySelector(".thumbnail-strip");
        const prevArrow = document.querySelector(".prev-arrow");
        const nextArrow = document.querySelector(".next-arrow");

        let currentSlide = 0,
          isDown = false,
          isDragging = false,
          startX,
          transformX;

        // --- OPTIMIZATION: Lazy Loading Implementation ---
        function showSlide(index) {
          if (index >= slides.length) index = 0;
          if (index < 0) index = slides.length - 1;
          currentSlide = index;

          // Carga la imagen actual si aÃºn no se ha cargado
          const currentSlideElement = slides[currentSlide];
          if (currentSlideElement.dataset.src) {
            currentSlideElement.src = currentSlideElement.dataset.src;
            delete currentSlideElement.dataset.src; // Cargar solo una vez
          }

          slides.forEach((slide) => slide.classList.remove("active"));
          slides[currentSlide].classList.add("active");

          thumbnails.forEach((thumb) => thumb.classList.remove("active"));
          thumbnails[currentSlide].classList.add("active");

          // Center the active thumbnail in the strip
          const activeThumb = thumbnails[currentSlide];
          if (activeThumb) {
            const containerRect = thumbnailContainer.getBoundingClientRect();
            const thumbRect = activeThumb.getBoundingClientRect();
            const scrollOffset =
              thumbRect.left -
              containerRect.left -
              containerRect.width / 2 +
              thumbRect.width / 2;

            thumbnailContainer.scrollBy({
              left: scrollOffset,
              behavior: "smooth",
            });
          }
        }

        nextArrow.addEventListener("click", () => showSlide(currentSlide + 1));
        prevArrow.addEventListener("click", () => showSlide(currentSlide - 1));

        // --- Thumbnail Drag/Scroll Logic ---
        const startDrag = (e) => {
          isDown = true;
          isDragging = false;
          thumbnailContainer.classList.add("grabbing");
          startX =
            e.pageX || e.touches[0].pageX - thumbnailContainer.offsetLeft;
          transformX = thumbnailContainer.scrollLeft;
        };
        const endDrag = () => {
          isDown = false;
          thumbnailContainer.classList.remove("grabbing");
        };
        const moveDrag = (e) => {
          if (!isDown) return;
          e.preventDefault();
          const x =
            e.pageX || e.touches[0].pageX - thumbnailContainer.offsetLeft;
          const walk = (x - startX) * 1.5;
          if (Math.abs(walk) > 5) {
            isDragging = true;
          }
          thumbnailContainer.scrollLeft = transformX - walk;
        };

        thumbnailContainer.addEventListener("mousedown", startDrag);
        thumbnailContainer.addEventListener("mouseup", endDrag);
        thumbnailContainer.addEventListener("mouseleave", endDrag);
        thumbnailContainer.addEventListener("mousemove", moveDrag);

        thumbnailContainer.addEventListener("touchstart", startDrag);
        thumbnailContainer.addEventListener("touchend", endDrag);
        thumbnailContainer.addEventListener("touchmove", moveDrag);

        // --- SUPER OPTIMIZATION: Generate gallery with Intersection Observer ---
        const observer = new IntersectionObserver(
          (entries, self) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const thumbImg = entry.target.querySelector("img");
                thumbImg.src = thumbImg.dataset.src;
                self.unobserve(entry.target); // Dejar de observar una vez cargada
              }
            });
          },
          { root: thumbnailContainer, rootMargin: "0px 0px 0px 100px" }
        );

        images.forEach((src, index) => {
          // Main slider image
          const img = document.createElement("img");
          img.alt = `Foto del apartamento ${index + 1}`;
          img.classList.add("slider-image");
          img.decoding = "async"; // Optimization: Async decoding
          if (index === 0) {
            img.src = src; // Cargar la primera imagen inmediatamente
            img.loading = "eager"; // Optimization: Eager load first image
            img.classList.add("active");
          } else {
            img.dataset.src = src; // Dejar las demÃ¡s para carga diferida
            img.loading = "lazy"; // Optimization: Lazy load others
          }
          sliderContainer.insertBefore(img, prevArrow);

          // Thumbnail
          const thumbDiv = document.createElement("div");
          thumbDiv.classList.add("thumbnail");
          thumbDiv.dataset.index = index;

          const thumbImg = document.createElement("img");
          thumbImg.dataset.src = src; // Usar data-src para todas las miniaturas
          thumbImg.alt = `Miniatura ${index + 1}`;
          thumbImg.loading = "lazy"; // Extra de seguridad para navegadores compatibles
          thumbDiv.appendChild(thumbImg);

          thumbnailStrip.appendChild(thumbDiv);

          thumbDiv.addEventListener("click", (e) => {
            if (!isDragging) showSlide(index);
          });

          observer.observe(thumbDiv); // Observar cada miniatura para cargarla cuando sea visible
        });

        const slides = document.querySelectorAll(".slider-image");
        const thumbnails = document.querySelectorAll(".thumbnail");

        // Activar la primera miniatura
        if (thumbnails.length > 0) {
          thumbnails[0].classList.add("active");
        }

        // Inicializar la primera diapositiva
        showSlide(0);

        // --- LÃ“GICA DEL LIGHTBOX (PANTALLA COMPLETA) ---
        const lightbox = document.getElementById("lightbox");
        const lightboxImg = document.getElementById("lightbox-img");
        const closeBtn = document.querySelector(".lightbox-close");
        const lightboxPrev = document.querySelector(".lightbox-prev");
        const lightboxNext = document.querySelector(".lightbox-next");
        const downloadBtn = document.getElementById("lightbox-download");

        function updateLightboxImage() {
          if (lightbox.classList.contains("visible")) {
            const activeSlide = slides[currentSlide];
            if (activeSlide.dataset.src) {
              // Si la imagen principal no estÃ¡ cargada, cÃ¡rgala
              activeSlide.src = activeSlide.dataset.src;
              delete activeSlide.dataset.src;
            }
            lightboxImg.src = activeSlide.src;
            
            // Update download button
            downloadBtn.href = activeSlide.src;
            downloadBtn.download = `Apartamento_Mirador_${currentSlide + 1}`;
          }
        }

        function openLightbox() {
          lightbox.classList.add("visible");
          document.body.style.overflow = "hidden"; // Evita el scroll del fondo
          updateLightboxImage();
        }

        function closeLightbox() {
          lightbox.classList.remove("visible");
          document.body.style.overflow = "auto"; // Restaura el scroll
        }

        // Abrir al hacer clic en la imagen principal
        sliderContainer.addEventListener("click", (e) => {
          if (
            e.target.classList.contains("slider-image") &&
            e.target.classList.contains("active")
          ) {
            openLightbox();
          }
        });

        // Cerrar el lightbox
        closeBtn.addEventListener("click", closeLightbox);
        lightbox.addEventListener("click", (e) => {
          if (e.target === lightbox) closeLightbox(); // Cierra si se hace clic en el fondo
        });
        document.addEventListener("keydown", (e) => {
          if (lightbox.classList.contains("visible")) {
            if (e.key === "Escape") closeLightbox();
            if (e.key === "ArrowRight") navigateLightbox(1);
            if (e.key === "ArrowLeft") navigateLightbox(-1);
          }
        });

        function navigateLightbox(direction) {
          showSlide(currentSlide + direction);
          updateLightboxImage();
        }

        lightboxPrev.addEventListener("click", () => {
          navigateLightbox(-1);
        });
        lightboxNext.addEventListener("click", () => {
          navigateLightbox(1);
        });

        // --- LÃ“GICA DEL BOTÃ“N DE COMPARTIR (Integrada) ---

        const shareBtn = document.getElementById("shareBtn");
        const copyMessage = document.getElementById("copyMessage");

        shareBtn.addEventListener("click", async function () {
          // Texto de compartir para el nuevo apartamento
          const shareText = `ğŸ¢ *APARTAMENTO EN VENTA - MIRADOR DEL PUERTO, BOGOTÃ*
ğŸ“ UbicaciÃ³n: Suba - Parque Lagartos
ğŸ’² Precio de Venta: $680.000.000
ğŸ’° Valor AdministraciÃ³n: $565.000
ğŸ“ Ãrea Construida: 120 mÂ²
ğŸ  Ãrea Privada: 111 mÂ²
ğŸ›Œ Alcobas: 3
ğŸ› BaÃ±os: 2
ğŸš— Garajes: 2
ğŸ¢ Estrato: 6
ğŸ—ï¸ AÃ±o: 1990
âœ¨ Estado: Usado - Excelente
âœ… *CaracterÃ­sticas Destacadas:*
ğŸ”¥ Chimenea, Estudio, DepÃ³sito.
ğŸŒ³ Vista al Club Los Lagartos.
ğŸ’ª Amenidades: Gimnasio, Cancha de Squash, SalÃ³n Comunal, Zona BBQ.
*ğŸ”— Ver Ficha Completa:*
https://apto-mirador-puerto-suba.netlify.app/`;

          try {
            await navigator.clipboard.writeText(shareText);

            // Muestra el mensaje de Ã©xito
            copyMessage.style.opacity = "1";

            // Cambia el texto y estilo del botÃ³n
            shareBtn.textContent = "âœ… Â¡Copiado!";
            shareBtn.style.background =
              "linear-gradient(135deg, #059669 0%, #047857 100%)";

            // Restaura el estado del botÃ³n y el mensaje despuÃ©s de 3 segundos
            setTimeout(() => {
              copyMessage.style.opacity = "0";
              shareBtn.innerHTML = "ğŸ“¤ Compartir";
              shareBtn.style.background =
                "linear-gradient(135deg, #10B981 0%, #059669 100%)";
            }, 3000);
          } catch (err) {
            alert("Error al copiar. Por favor, copia manualmente el texto.");
          }
        });
      });
    </script>
  </body>
</html>

